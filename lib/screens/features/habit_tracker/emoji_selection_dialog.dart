import 'package:flutter/material.dart';

enum EmojiCategory {
  smileysPeople,
  animalsNature,
  foodDrink,
  activity,
  travelPlaces,
  objects,
  symbols,
  flags,
}

class EmojiSelectionDialog extends StatelessWidget {
  final String currentEmoji;

  const EmojiSelectionDialog({super.key, required this.currentEmoji});

  static const Map<EmojiCategory, List<String>> _categorizedEmojis = {
    EmojiCategory.smileysPeople: [
      'üòä', 'üëç', 'üí™', 'üöÄ', 'üí°', 'üìö', 'üèÉ', 'üßò', 'üçé', 'üíß',
      'üò¥', 'üåü', 'üéâ', 'üî•', 'üå±', 'üß†', 'üíñ', '‚ú®', 'üèÜ', '‚úÖ',
      '‚ùå', '‚è∞', 'üóìÔ∏è', 'üìù', 'üìà', 'üßò‚Äç‚ôÄÔ∏è', 'üèãÔ∏è‚Äç‚ôÇÔ∏è', 'üö¥‚Äç‚ôÄÔ∏è', 'üèä‚Äç‚ôÄÔ∏è', 'üö∂‚Äç‚ôÄÔ∏è',
      'üç≥', 'ü•ó', 'ü•õ', 'üõå', 'üöø', '‚òÄÔ∏è', 'üåô', '‚≠ê', 'üåà', 'üåßÔ∏è',
      'üíª', 'üì±', 'üéß', 'üé§', 'üé®', 'üéµ', 'üé¨', 'üéÆ', 'üß©', 'üé≤',
      'üöó', 'üöå', 'üöÜ', '‚úàÔ∏è', 'üö¢', 'üè†', 'üè¢', 'üè´', 'üè•', 'üè¶',
      'üå≥', 'üå∏', 'üåä', '‚õ∞Ô∏è', 'üèñÔ∏è', 'üèûÔ∏è', 'üåÉ', 'üåÜ', 'üåá', 'üåÖ',
    ],
    EmojiCategory.animalsNature: [
      'üê∂', 'üê±', 'üê≠', 'üêπ', 'üê∞', 'ü¶ä', 'üêª', 'üêº', 'üê®', 'üêØ',
      'ü¶Å', 'üêÆ', 'üê∑', 'üê∏', 'üêµ', 'üêî', 'üêß', 'üê¶', 'ü¶â', 'üê∫',
      'üêó', 'üê¥', 'ü¶Ñ', 'üêù', 'üêõ', 'ü¶ã', 'üêå', 'üêû', 'üêú', 'üï∑Ô∏è',
      'ü¶Ç', 'ü¶Ä', 'üêç', 'ü¶é', 'ü¶ñ', 'ü¶ï', 'üê¢', 'üê†', 'üê°', 'üêô',
      'ü¶ë', 'ü¶ê', 'ü¶û', 'üê≥', 'üê¨', 'ü¶à', 'üêä', 'üêÖ', 'üêÜ', 'ü¶ì',
      'ü¶ç', 'üêò', 'ü¶è', 'üê™', 'ü¶í', 'üêÉ', 'üêÑ', 'üêé', 'üêñ', 'üêè',
      'üêë', 'üêê', 'ü¶å', 'üêï', 'üê©', 'üêà', 'üêì', 'ü¶É', 'üïäÔ∏è', 'ü¶Ö',
      'ü¶Ü', 'ü¶¢', 'ü¶â', 'ü¶©', 'ü¶ö', 'ü¶ú', 'üê∏', 'üêä', 'üê¢', 'ü¶é',
      'üêç', 'üêâ', 'üê≤', 'üê≥', 'üê¨', 'ü¶à', 'üê†', 'üê°', 'üêô', 'ü¶ë',
      'ü¶ê', 'ü¶û', 'ü¶Ä', 'üï∑Ô∏è', 'üï∏Ô∏è', 'ü¶Ç', 'ü¶ü', 'ü¶†', 'ü¶ã', 'üêõ',
    ],
    EmojiCategory.foodDrink: [
      'üçé', 'üçê', 'üçä', 'üçã', 'üçå', 'üçâ', 'üçá', 'üçì', 'üçà', 'üçí',
      'üçë', 'ü•≠', 'üçç', 'ü••', 'ü•ù', 'üçÖ', 'üçÜ', 'ü•ë', 'ü•¶', 'ü•¨',
      'ü•í', 'üå∂Ô∏è', 'üåΩ', 'ü•ï', 'ü•î', 'üç†', 'ü•ê', 'üçû', 'ü•ñ', 'ü•®',
      'üßÄ', 'ü•ö', 'üç≥', 'ü•ì', 'ü•©', 'üçó', 'üçñ', 'üå≠', 'üçî', 'üçü',
      'üçï', 'ü•™', 'ü•ô', 'üåÆ', 'üåØ', 'ü•ó', 'üçù', 'üçú', 'üç≤', 'üçõ',
      'üç£', 'üç±', 'ü•ü', 'üç§', 'üçö', 'üçô', 'üçò', 'üç•', 'üç¢', 'üç°',
      'üç¶', 'üçß', 'üç®', 'üç©', 'üç™', 'üéÇ', 'üç∞', 'üßÅ', 'ü•ß', 'üç´',
      'üç¨', 'üç≠', 'üçÆ', 'üçØ', 'üçº', 'ü•õ', '‚òï', 'üçµ', 'üç∂', 'üçæ',
      'üç∑', 'üç∏', 'üçπ', 'üç∫', 'üçª', 'ü•Ç', 'ü•É', 'ü•§', 'üßÉ', 'üßä',
    ],
    EmojiCategory.activity: [
      '‚öΩ', 'üèÄ', 'üèà', '‚öæ', 'ü•é', 'üéæ', 'üèê', 'üèâ', 'üé±', 'üèì',
      'üè∏', 'üèí', 'üèë', 'ü•ç', 'üèè', 'ü•Ö', '‚õ≥', 'üèπ', 'üé£', 'ü•ä',
      'ü•ã', '‚õ∏Ô∏è', '‚õ∑Ô∏è', 'üèÇ', 'üèãÔ∏è', 'ü§∏', '‚õπÔ∏è', 'ü§æ', 'üö¥', 'üöµ',
      'üèéÔ∏è', 'üèçÔ∏è', 'ü§∏‚Äç‚ôÇÔ∏è', 'ü§∏‚Äç‚ôÄÔ∏è', '‚õπÔ∏è‚Äç‚ôÇÔ∏è', '‚õπÔ∏è‚Äç‚ôÄÔ∏è', 'ü§æ‚Äç‚ôÇÔ∏è', 'ü§æ‚Äç‚ôÄÔ∏è', 'üö¥‚Äç‚ôÇÔ∏è', 'üö¥‚Äç‚ôÄÔ∏è',
      'üèä‚Äç‚ôÇÔ∏è', 'üèä‚Äç‚ôÄÔ∏è', 'ü§Ω‚Äç‚ôÇÔ∏è', 'ü§Ω‚Äç‚ôÄÔ∏è', 'üö£‚Äç‚ôÇÔ∏è', 'üö£‚Äç‚ôÄÔ∏è', 'üèá', 'üèÑ‚Äç‚ôÇÔ∏è', 'üèÑ‚Äç‚ôÄÔ∏è', 'üßò‚Äç‚ôÇÔ∏è',
      'üßò‚Äç‚ôÄÔ∏è', 'üßó‚Äç‚ôÇÔ∏è', 'üßó‚Äç‚ôÄÔ∏è', 'ü§∫', 'ü§º‚Äç‚ôÇÔ∏è', 'ü§º‚Äç‚ôÄÔ∏è', 'üëØ‚Äç‚ôÇÔ∏è', 'üëØ‚Äç‚ôÄÔ∏è', 'üï∫', 'üíÉ',
      'üé§', 'üéß', 'ü•Å', 'üé∑', 'üé∫', 'üé∏', 'üéª', 'üéπ', 'üé≤', 'üéØ',
      'üé≥', 'üèì', 'üè∏', 'üèí', 'üèë', 'ü•ç', 'üèè', 'ü•Ö', 'üèπ', 'üé£',
    ],
    EmojiCategory.travelPlaces: [
      'üöó', 'üöï', 'üöô', 'üöå', 'üöé', 'üèéÔ∏è', 'üöì', 'üöë', 'üöí', 'üöê',
      'üöö', 'üöõ', 'üöú', 'üõµ', 'üö≤', 'üèçÔ∏è', 'üöÑ', 'üöÖ', 'üöÜ', 'üöá',
      'üöà', 'üöâ', 'üöä', 'üöã', 'üöÉ', 'üöû', 'üöÇ', 'üöÜ', 'üöá', 'üöà',
      'üöâ', 'üöä', 'üöã', 'üöÉ', 'üöû', 'üöÇ', 'üöÅ', '‚úàÔ∏è', 'üõ´', 'üõ¨',
      'üöÄ', 'üõ∞Ô∏è', 'üõ∏', 'üö¢', 'üõ≥Ô∏è', 'üõ•Ô∏è', 'üö§', '‚öì', '‚õµ', 'üõ∂',
      'üèñÔ∏è', 'üèùÔ∏è', 'üèûÔ∏è', '‚õ∞Ô∏è', 'üåã', 'üóª', 'üèïÔ∏è', '‚õ∫', 'üõ£Ô∏è', 'üõ§Ô∏è',
      'üåâ', 'üåÉ', 'üèôÔ∏è', 'üåÜ', 'üåá', 'üåÖ', 'üåÑ', 'üå†', 'üéá', 'üéÜ',
      'üéë', 'üèôÔ∏è', 'üåÜ', 'üåá', 'üåÖ', 'üåÑ', 'üå†', 'üéá', 'üéÜ', 'üéë',
      'üè†', 'üè°', 'üèòÔ∏è', 'üè¢', 'üè£', 'üè§', 'üè•', 'üè¶', 'üè®', 'üè©',
      'üè™', 'üè´', 'üè¨', 'üè≠', 'üèØ', 'üè∞', 'üíí', 'üóº', 'üóΩ', '‚õ™',
      'üïå', 'üõï', 'üïç', '‚õ©Ô∏è', 'üïã', '‚õ≤', '‚õ∫', 'üöè', 'üõë', 'üöß',
    ],
    EmojiCategory.objects: [
      '‚åö', 'üì±', 'üíª', '‚å®Ô∏è', 'üñ•Ô∏è', 'üñ®Ô∏è', 'üñ±Ô∏è', 'üñ≤Ô∏è', 'üïπÔ∏è', 'üíΩ',
      'üíæ', 'üíø', 'üìÄ', 'üìº', 'üì∑', 'üì∏', 'üìπ', 'üé•', 'üìΩÔ∏è', 'üéûÔ∏è',
      'üìû', '‚òéÔ∏è', 'üìü', 'üì†', 'üì∫', 'üìª', 'üéôÔ∏è', 'üéöÔ∏è', 'üéõÔ∏è', 'üß≠',
      '‚è±Ô∏è', '‚è≤Ô∏è', '‚è∞', 'üï∞Ô∏è', '‚åõ', '‚è≥', 'üí°', 'üî¶', 'üîã', 'üîå',
      'üíª', 'üì±', 'üéß', 'üé§', 'ü•Å', 'üé∑', 'üé∫', 'üé∏', 'üéª', 'üéπ',
      'üìö', 'üìñ', 'üîñ', 'üè∑Ô∏è', 'üí∞', 'ü™ô', 'üíµ', 'üí¥', 'üí∂', 'üí∑',
      'üí≥', '‚úâÔ∏è', 'üìß', 'üì®', 'üì©', 'üì§', 'üì•', 'üì¶', 'üì´', 'üì™',
      'üì¨', 'üì≠', 'üìÆ', 'üó≥Ô∏è', '‚úèÔ∏è', '‚úíÔ∏è', 'üñãÔ∏è', 'üñäÔ∏è', 'üñåÔ∏è', 'üñçÔ∏è',
      'üìù', 'üíº', 'üìÅ', 'üìÇ', 'üóÇÔ∏è', 'üìä', 'üìà', 'üìâ', 'üìä', 'üìà',
    ],
    EmojiCategory.symbols: [
      '‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'üñ§', 'ü§ç', 'ü§é', 'üíî',
      '‚ù£Ô∏è', 'üíï', 'üíû', 'üíì', 'üíó', 'üíñ', 'üíò', 'üíù', 'üß°', 'üíõ',
      'üíö', 'üíô', 'üíú', 'üñ§', 'ü§ç', 'ü§é', 'üíØ', 'üí¢', 'üí•', 'üí´',
      'üí¶', 'üí®', 'üï≥Ô∏è', 'üí£', 'üí¨', 'üëÅÔ∏è‚Äçüó®Ô∏è', 'üí≠', 'üí§', '‚òÆÔ∏è', '‚úùÔ∏è',
      '‚ò™Ô∏è', 'üïâÔ∏è', '‚ò∏Ô∏è', '‚ú°Ô∏è', 'üîØ', 'üïé', '‚òØÔ∏è', '‚ò¶Ô∏è', 'üõê', '‚öõÔ∏è',
      '‚ò¢Ô∏è', '‚ò£Ô∏è', '‚ö†Ô∏è', 'üö∏', '‚õî', 'üö´', 'üö≥', 'üö≠', 'üöØ', 'üö±',
      'üö∑', 'üìµ', 'üîû', '‚¨ÜÔ∏è', '‚ÜóÔ∏è', '‚û°Ô∏è', '‚ÜòÔ∏è', '‚¨áÔ∏è', '‚ÜôÔ∏è', '‚¨ÖÔ∏è',
      '‚ÜñÔ∏è', '‚ÜïÔ∏è', '‚ÜîÔ∏è', '‚Ü©Ô∏è', '‚Ü™Ô∏è', '‚§¥Ô∏è', '‚§µÔ∏è', 'üîÉ', 'üîÑ', 'üîô',
      'üîö', 'üîõ', 'üîú', 'üîù', '‚Ñ¢Ô∏è', '¬©Ô∏è', '¬ÆÔ∏è', '„Ä∞Ô∏è', '„ÄΩÔ∏è', '‚ÅâÔ∏è',
      '‚ùì', '‚ùî', '‚ùï', '‚ùó', 'üíØ', '‚úÖ', '‚òëÔ∏è', '‚úîÔ∏è', '‚ùå', '‚ùé',
    ],
    EmojiCategory.flags: [
      'üè≥Ô∏è', 'üè¥', 'üèÅ', 'üö©', 'üéå', 'üá¶üá®', 'üá¶üá©', 'üá¶üá™', 'üá¶üá´', 'üá¶üá¨',
      'üá¶üáÆ', 'üá¶üá±', 'üá¶üá≤', 'üá¶üá¥', 'üá¶üá∂', 'üá¶üá∑', 'üá¶üá∏', 'üá¶üáπ', 'üá¶üá∫', 'üá¶üáº',
      'üá¶üáΩ', 'üá¶üáø', 'üáßüá¶', 'üáßüáß', 'üáßüá©', 'üáßüá™', 'üáßüá´', 'üáßüá¨', 'üáßüá≠', 'üáßüáÆ',
      'üáßüáØ', 'üáßüá±', 'üáßüá≤', 'üáßüá≥', 'üáßüá¥', 'üáßüá∂', 'üáßüá∑', 'üáßüá∏', 'üáßüáπ', 'üáßüáª',
      'üáßüáº', 'üáßüáæ', 'üáßüáø', 'üá®üá¶', 'üá®üá®', 'üá®üá©', 'üá®üá´', 'üá®üá¨', 'üá®üá≠', 'üá®üáÆ',
      'üá®üá∞', 'üá®üá±', 'üá®üá≤', 'üá®üá≥', 'üá®üá¥', 'üá®üáµ', 'üá®üá∑', 'üá®üá∫', 'üá®üáª', 'üá®üáº',
      'üá®üáΩ', 'üá®üáæ', 'üá®üáø', 'üá©üá™', 'üá©üá¨', 'üá©üáØ', 'üá©üá∞', 'üá©üá≤', 'üá©üá¥', 'üá©üáø',
      'üá™üá¶', 'üá™üá®', 'üá™üá™', 'üá™üá¨', 'üá™üá≠', 'üá™üá∑', 'üá™üá∏', 'üá™üáπ', 'üá™üá∫', 'üá´üáÆ',
      'üá´üáØ', 'üá´üá∞', 'üá´üá≤', 'üá´üá¥', 'üá´üá∑', 'üá¨üá¶', 'üá¨üáß', 'üá¨üá©', 'üá¨üá™', 'üá¨üá´',
      'üá¨üá¨', 'üá¨üá≠', 'üá¨üáÆ', 'üá¨üá±', 'üá¨üá≤', 'üá¨üá≥', 'üá¨üáµ', 'üá¨üá∂', 'üá¨üá∑', 'üá¨üá∏',
      'üá¨üáπ', 'üá¨üá∫', 'üá¨üáº', 'üá¨üáæ', 'üá≠üá∞', 'üá≠üá≤', 'üá≠üá≥', 'üá≠üá∑', 'üá≠üáπ', 'üá≠üá∫',
      'üáÆüá®', 'üáÆüá©', 'üáÆüá™', 'üáÆüá±', 'üáÆüá≤', 'üáÆüá≥', 'üáÆüá¥', 'üáÆüá∂', 'üáÆüá∑', 'üáÆüá∏',
      'üáÆüáπ', 'üáØüá™', 'üáØüá≤', 'üáØüá¥', 'üáØüáµ', 'üá∞üá™', 'üá∞üá¨', 'üá∞üá≠', 'üá∞üáÆ', 'üá∞üá≤',
      'üá∞üá≥', 'üá∞üáµ', 'üá∞üá∑', 'üá∞üáº', 'üá∞üáæ', 'üá∞üáø', 'üá±üá¶', 'üá±üáß', 'üá±üá®', 'üá±üáÆ',
      'üá±üá∞', 'üá±üá∑', 'üá±üá∏', 'üá±üáπ', 'üá±üá∫', 'üá±üáª', 'üá±üáæ', 'üá≤üá¶', 'üá≤üá®', 'üá≤üá©',
      'üá≤üá™', 'üá≤üá´', 'üá≤üá¨', 'üá≤üá≠', 'üá≤üá∞', 'üá≤üá±', 'üá≤üá≤', 'üá≤üá≥', 'üá≤üá¥', 'üá≤üáµ',
      'üá≤üá∂', 'üá≤üá∑', 'üá≤üá∏', 'üá≤üáπ', 'üá≤üá∫', 'üá≤üáª', 'üá≤üáº', 'üá≤üáΩ', 'üá≤üáæ', 'üá≤üáø',
      'üá≥üá¶', 'üá≥üá®', 'üá≥üá™', 'üá≥üá´', 'üá≥üá¨', 'üá≥üáÆ', 'üá≥üá±', 'üá≥üá¥', 'üá≥üáµ', 'üá≥üá∑',
      'üá≥üá∫', 'üá≥üáø', 'üá¥üá≤', 'üáµüá¶', 'üáµüá™', 'üáµüá´', 'üáµüá¨', 'üáµüá≠', 'üáµüá∞', 'üáµüá±',
      'üáµüá≤', 'üáµüá≥', 'üáµüá∑', 'üáµüá∏', 'üáµüáπ', 'üáµüáº', 'üáµüáæ', 'üá∂üá¶', 'üá∑üá™', 'üá∑üá¥',
      'üá∑üá∏', 'üá∑üá∫', 'üá∑üáº', 'üá∏üá¶', 'üá∏üáß', 'üá∏üá®', 'üá∏üá©', 'üá∏üá™', 'üá∏üá¨', 'üá∏üá≠',
      'üá∏üáÆ', 'üá∏üáØ', 'üá∏üá∞', 'üá∏üá±', 'üá∏üá≤', 'üá∏üá≥', 'üá∏üá¥', 'üá∏üá∑', 'üá∏üá∏', 'üá∏üáπ',
      'üá∏üáª', 'üá∏üáΩ', 'üá∏üáæ', 'üá∏üáø', 'üáπüá¶', 'üáπüá®', 'üáπüá©', 'üáπüá´', 'üáπüá¨', 'üáπüá≠',
      'üáπüáØ', 'üáπüá∞', 'üáπüá±', 'üáπüá≤', 'üáπüá≥', 'üáπüá¥', 'üáπüá∑', 'üáπüáπ', 'üáπüáª', 'üáπüáº',
      'üáπüáø', 'üá∫üá¶', 'üá∫üá¨', 'üá∫üá≤', 'üá∫üá≥', 'üá∫üá∏', 'üá∫üáæ', 'üá∫üáø', 'üáªüá¶', 'üáªüá®',
      'üáªüá™', 'üáªüá¨', 'üáªüáÆ', 'üáªüá≥', 'üáªüá∫', 'üáºüá´', 'üáºüá∏', 'üáΩüá∞', 'üáæüá™', 'üáæüáπ',
      'üáøüá¶', 'üáøüá≤', 'üáøüáº',
    ],
  };

  @override
  Widget build(BuildContext context) {
    return DefaultTabController(
      length: _categorizedEmojis.length,
      child: AlertDialog(
        title: const Text('Select an Emoji'),
        contentPadding: const EdgeInsets.all(0), // TabBarÏôÄ TabBarViewÍ∞Ä content ÏòÅÏó≠ÏùÑ Í∞ÄÎìù Ï±ÑÏö∞ÎèÑÎ°ù
        content: SizedBox(
          width: double.maxFinite,
          height: MediaQuery.of(context).size.height * 0.6, // Îã§Ïù¥ÏñºÎ°úÍ∑∏ ÎÜíÏù¥ Ï°∞Ï†à
          child: Column(
            children: [
              TabBar(
                isScrollable: true, // ÌÉ≠Ïù¥ ÎßéÏùÑ Í≤ΩÏö∞ Ïä§ÌÅ¨Î°§ Í∞ÄÎä•ÌïòÎèÑÎ°ù
                tabs: _categorizedEmojis.keys.map((category) {
                  return Tab(text: category.toString().split('.').last.replaceAllMapped(RegExp(r'([A-Z])'), (match) => ' ${match.group(1)!.toLowerCase()}').trim());
                }).toList(),
              ),
              Expanded(
                child: TabBarView(
                  children: _categorizedEmojis.keys.map((category) {
                    final emojis = _categorizedEmojis[category]!;
                    return GridView.builder(
                      padding: const EdgeInsets.all(8.0),
                      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
                        crossAxisCount: 6, // Ìïú Ï§ÑÏóê 6Í∞ú Ïù¥Î™®ÏßÄ
                        childAspectRatio: 1.0,
                        crossAxisSpacing: 4.0,
                        mainAxisSpacing: 4.0,
                      ),
                      itemCount: emojis.length,
                      itemBuilder: (context, index) {
                        final emoji = emojis[index];
                        return GestureDetector(
                          onTap: () {
                            Navigator.pop(context, emoji); // ÏÑ†ÌÉùÎêú Ïù¥Î™®ÏßÄ Î∞òÌôò
                          },
                          child: Container(
                            decoration: BoxDecoration(
                              color: emoji == currentEmoji ? Theme.of(context).colorScheme.primary.withOpacity(0.2) : null,
                              borderRadius: BorderRadius.circular(8.0),
                              border: Border.all(
                                color: emoji == currentEmoji ? Theme.of(context).colorScheme.primary : Colors.grey.shade300,
                                width: emoji == currentEmoji ? 2.0 : 1.0,
                              ),
                            ),
                            child: Center(
                              child: Text(
                                emoji,
                                style: const TextStyle(fontSize: 28),
                              ),
                            ),
                          ),
                        );
                      },
                    );
                  }).toList(),
                ),
              ),
            ],
          ),
        ),
        actions: [
          TextButton(
            onPressed: () {
              Navigator.pop(context); // Ï∑®ÏÜå
            },
            child: const Text('Cancel'),
          ),
        ],
      ),
    );
  }
}
